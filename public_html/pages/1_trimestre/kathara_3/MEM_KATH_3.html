<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=f-OSG50eM87uHBCimldd8huvdo4_4sddQmA5M3c8WaNrtmjWe5kceMQ1-UnEnwJP);.lst-kix_u549hqsmyxd4-7>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-7}ol.lst-kix_u549hqsmyxd4-8{list-style-type:none}.lst-kix_u549hqsmyxd4-2>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-2,lower-roman) ". "}.lst-kix_u549hqsmyxd4-0>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-0,decimal) ". "}.lst-kix_u549hqsmyxd4-4>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-4}ol.lst-kix_u549hqsmyxd4-6.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-6 0}.lst-kix_u549hqsmyxd4-3>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-3,decimal) ". "}ol.lst-kix_u549hqsmyxd4-2{list-style-type:none}ol.lst-kix_u549hqsmyxd4-3{list-style-type:none}ol.lst-kix_u549hqsmyxd4-4.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-4 0}ol.lst-kix_u549hqsmyxd4-0{list-style-type:none}ol.lst-kix_u549hqsmyxd4-1{list-style-type:none}ol.lst-kix_u549hqsmyxd4-1.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-1 0}ol.lst-kix_u549hqsmyxd4-6{list-style-type:none}ol.lst-kix_u549hqsmyxd4-7{list-style-type:none}.lst-kix_u549hqsmyxd4-1>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-1,lower-latin) ". "}ol.lst-kix_u549hqsmyxd4-4{list-style-type:none}ol.lst-kix_u549hqsmyxd4-5{list-style-type:none}.lst-kix_u549hqsmyxd4-5>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-5}.lst-kix_u549hqsmyxd4-8>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-8,lower-roman) ". "}ol.lst-kix_u549hqsmyxd4-8.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-8 0}.lst-kix_u549hqsmyxd4-7>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-7,lower-latin) ". "}.lst-kix_u549hqsmyxd4-8>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-8}.lst-kix_u549hqsmyxd4-1>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-1}.lst-kix_u549hqsmyxd4-4>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-4,lower-latin) ". "}.lst-kix_u549hqsmyxd4-6>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-6,decimal) ". "}ol.lst-kix_u549hqsmyxd4-3.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-3 0}.lst-kix_u549hqsmyxd4-5>li:before{content:"" counter(lst-ctn-kix_u549hqsmyxd4-5,lower-roman) ". "}.lst-kix_u549hqsmyxd4-0>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-0}ol.lst-kix_u549hqsmyxd4-0.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-0 0}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ol.lst-kix_u549hqsmyxd4-5.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-5 0}.lst-kix_u549hqsmyxd4-2>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-2}ol.lst-kix_u549hqsmyxd4-2.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-2 0}.lst-kix_u549hqsmyxd4-6>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-6}.lst-kix_u549hqsmyxd4-3>li{counter-increment:lst-ctn-kix_u549hqsmyxd4-3}ol.lst-kix_u549hqsmyxd4-7.start{counter-reset:lst-ctn-kix_u549hqsmyxd4-7 0}ol{margin:0;padding:0}table td,table th{padding:0}.c2{background-color:#ffffff;color:#4a86e8;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Lexend";font-style:normal}.c0{color:#000000;font-weight:300;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Lexend";font-style:normal}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c11{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c3{font-size:13pt;font-family:"Lexend";font-style:italic;font-weight:300}.c16{font-weight:400;font-size:11pt;font-family:"Arial"}.c7{font-size:13pt;font-family:"Lexend";font-weight:300}.c4{font-size:13pt;font-family:"Lexend";font-weight:700}.c13{font-weight:400;font-size:13pt;font-family:"Lexend"}.c5{font-size:14pt;font-family:"Lexend";font-weight:400}.c14{margin-left:36pt;padding-left:0pt}.c10{max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c12{padding:0;margin:0}.c9{height:11pt}.c8{background-color:#ffffff}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c8 c10 doc-content"><div><p class="c15"><span class="c5 c8">Mario Vali&ntilde;o Canalejas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; </span><span class="c2">04/12/2024</span></p><p class="c9 c15"><span class="c11 c16"></span></p></div><p class="c6"><span class="c5">Memoria </span><span class="c5">Kathar&aacute;</span><span class="c11 c5">&nbsp;# 3</span></p><p class="c6 c9"><span class="c5 c11"></span></p><ol class="c12 lst-kix_u549hqsmyxd4-0 start" start="1"><li class="c1 c14 li-bullet-0"><span class="c11 c13">Creaci&oacute;n de un laboratorio con dos switches y tres nodos, incluyendo un puente entre ambos switches.</span></li></ol><p class="c1 c9"><span class="c11 c13"></span></p><p class="c1"><span class="c7">Para la creaci&oacute;n de dicho laboratorio, lo primero ser&aacute; crear el archivo </span><span class="c4">lab.conf</span><span class="c0">&nbsp;y poblarlo con la configuraci&oacute;n siguiente.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 269.33px;"><img alt="" src="images/image10.png" style="width: 601.70px; height: 269.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Tenemos el primer nodo, </span><span class="c4">pc1</span><span class="c7">, que estar&aacute; comunicado con el primer switch, llamado </span><span class="c4">sw1</span><span class="c7">. Ambos, bajo el mismo dominio de colisi&oacute;n, </span><span class="c4">A</span><span class="c7">. Por otro lado, estar&aacute;n los nodos </span><span class="c4">pc2</span><span class="c7">&nbsp;y </span><span class="c4">pc3</span><span class="c7">&nbsp;que compartir&aacute;n un mismo dominio de colisi&oacute;n, </span><span class="c4">C</span><span class="c7">, que a su vez estar&aacute;n conectados al segundo switch, </span><span class="c4">sw2</span><span class="c7">. Por &uacute;ltimo, ambos switches contar&aacute;n con 2 interfaces, siendo una la conexi&oacute;n con sus respectivos nodos, y la otra una interconexi&oacute;n entre ellos mismos, bajo el dominio de colisi&oacute;n </span><span class="c4">B</span><span class="c0">.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c0">As&iacute; ser&aacute; la configuraci&oacute;n de cada nodo respectivamente. Para esta configuraci&oacute;n, cada uno de los nodos contar&aacute; con su propia direcci&oacute;n IP seguido de su levantamiento, adem&aacute;s de una asignaci&oacute;n MAC.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 77.33px;"><img alt="" src="images/image1.png" style="width: 601.70px; height: 77.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 77.33px;"><img alt="" src="images/image6.png" style="width: 601.70px; height: 77.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 77.33px;"><img alt="" src="images/image11.png" style="width: 601.70px; height: 77.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c0">Ahora compartir&eacute; la configuraci&oacute;n elegida para cada uno de los switches.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 189.33px;"><img alt="" src="images/image2.png" style="width: 601.70px; height: 189.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c7">En esta configuraci&oacute;n, primeramente levantaremos las dos interfaces que tendr&aacute; y asociaremos una direcci&oacute;n MAC a cada una de ellas. Luego, usamos </span><span class="c3">bridge-utils </span><span class="c7">para la creaci&oacute;n de un puente, al que llamaremos </span><span class="c4">br0</span><span class="c0">. Asociaremos a dicho puente cada una de las interfaces del switch, a&ntilde;adiremos un protocolo para proteger al laboratorio de bucles y, finalmente, levantamos el puente previamente creado.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 189.33px;"><img alt="" src="images/image4.png" style="width: 601.70px; height: 189.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Para la configuraci&oacute;n del segundo switch, simplemente discriminamos entre MAC para cada una de sus interfaces. El patr&oacute;n ser&aacute; 0X:0Z, siendo X el n&uacute;mero de switch (si es </span><span class="c4">sw2</span><span class="c0">, ser&aacute; 02:0Z) y Z el n&uacute;mero de interfaz (para ambos caso, al tratarse de dos interfaces, ser&aacute; 0X:00 y 0X:01). El resto de la configuraci&oacute;n ser&aacute; la misma, ya que creamos un puente y asociamos ambas interfaces a la misma.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Esta deber&aacute; ser la estructura del laboratorio creado. En mi caso, a&ntilde;ad&iacute; una carpeta llamada </span><span class="c4">shared</span><span class="c0">&nbsp;para exportar capturas en un futuro.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 173.33px;"><img alt="" src="images/image7.png" style="width: 601.70px; height: 173.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Al lanzar el laboratorio con </span><span class="c3">kathara </span><span class="c3">lstart</span><span class="c7">, ejecutaremos el comando </span><span class="c3">brctl show</span><span class="c0">&nbsp;en ambos switches para visualizar el puente junto a sus interfaces asociadas.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 481.00px; height: 256.00px;"><img alt="" src="images/image5.png" style="width: 486.00px; height: 256.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Adem&aacute;s, ejecutaremos el comando </span><span class="c3">brctl showmacs br0</span><span class="c7">&nbsp;para comprobar la asociaci&oacute;n de MAC en cada puerto, as&iacute; como par&aacute;metros </span><span class="c3">is local? </span><span class="c7">&nbsp;y el </span><span class="c3">ageing timer</span><span class="c0">. </span></p><p class="c1 c9"><span class="c0"></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 481.15px; height: 303.00px;"><img alt="" src="images/image3.png" style="width: 486.00px; height: 303.00px; margin-left: 0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Tambi&eacute;n, con el comando </span><span class="c3">brctl </span><span class="c3">showstp</span><span class="c3">&nbsp;br0</span><span class="c0">&nbsp;podremos ver diferentes par&aacute;metros asociados al protocolo STP.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 285.33px;"><img alt="" src="images/image9.png" style="width: 601.70px; height: 285.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Ahora, para finalizar, probaremos a hacer ping desde </span><span class="c4">pc2</span><span class="c7">&nbsp;a </span><span class="c4">pc3</span><span class="c7">, para ver lo que escucha </span><span class="c4">pc1</span><span class="c0">.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 440.00px;"><img alt="" src="images/image8.png" style="width: 601.70px; height: 440.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Vemos que, si hacemos una primera escucha antes de lanzar ping en ambos nodos, </span><span class="c4">pc1</span><span class="c7">&nbsp;y </span><span class="c4">pc3</span><span class="c7">, al lanzarlo conseguiremos escuchar por ambos un </span><span class="c4">broadcast</span><span class="c7">, que al ser de ese tipo y compartir dominio de difusi&oacute;n, escuchar&aacute; </span><span class="c4">pc1</span><span class="c7">&nbsp;sin problema. Ser&aacute; entonces cuando </span><span class="c4">sw1</span><span class="c7">&nbsp;y </span><span class="c4">sw2</span><span class="c7">&nbsp;guarden la direcci&oacute;n MAC de donde proviene el ping y deje de filtrar, qued&aacute;ndo as&iacute; en su propio dominio de colisi&oacute;n, </span><span class="c4">C</span><span class="c7">, dominio que comparten </span><span class="c4">pc2</span><span class="c7">&nbsp;y </span><span class="c4">pc3</span><span class="c0">.</span></p><p class="c1 c9"><span class="c0"></span></p><p class="c1"><span class="c7">Ser&aacute; modificando el valor de </span><span class="c3">ageing </span><span class="c7">como podremos dejar de filtrar paquetes y hacer que </span><span class="c4">pc1</span><span class="c7">&nbsp;pueda recibir. Ese valor se podr&aacute; modificar en cada switch con el comando </span><span class="c3">brctl </span><span class="c3">setageing</span><span class="c3">&nbsp;br0 X</span><span class="c0">, donde X ser&aacute;n los segundos de dicha memoria de direcciones MAC.</span></p></body></html>