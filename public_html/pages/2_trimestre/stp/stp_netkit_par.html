<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=f-OSG50eM87uHBCimldd8vXw5NcHlEejEPuzMhDCjHE);ol.lst-kix_b2lio5ls9phi-0{list-style-type:none}ol.lst-kix_b2lio5ls9phi-3{list-style-type:none}ol.lst-kix_b2lio5ls9phi-4{list-style-type:none}.lst-kix_b2lio5ls9phi-5>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-5}ol.lst-kix_b2lio5ls9phi-1{list-style-type:none}ol.lst-kix_b2lio5ls9phi-2{list-style-type:none}ol.lst-kix_b2lio5ls9phi-6.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-6 0}.lst-kix_193w4tmmekau-0>li:before{content:"-  "}ol.lst-kix_b2lio5ls9phi-3.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-3 0}.lst-kix_b2lio5ls9phi-4>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-4}ol.lst-kix_b2lio5ls9phi-7{list-style-type:none}ol.lst-kix_b2lio5ls9phi-8{list-style-type:none}ol.lst-kix_b2lio5ls9phi-5{list-style-type:none}ol.lst-kix_b2lio5ls9phi-6{list-style-type:none}.lst-kix_b2lio5ls9phi-0>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-0,decimal) ". "}ol.lst-kix_b2lio5ls9phi-0.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-0 0}.lst-kix_b2lio5ls9phi-1>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-1,lower-latin) ". "}ol.lst-kix_b2lio5ls9phi-2.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-2 0}.lst-kix_b2lio5ls9phi-4>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-4,lower-latin) ". "}.lst-kix_b2lio5ls9phi-2>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-2,lower-roman) ". "}.lst-kix_b2lio5ls9phi-3>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-3,decimal) ". "}.lst-kix_b2lio5ls9phi-7>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-7,lower-latin) ". "}.lst-kix_b2lio5ls9phi-8>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-8,lower-roman) ". "}.lst-kix_b2lio5ls9phi-5>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-5,lower-roman) ". "}.lst-kix_b2lio5ls9phi-0>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-0}.lst-kix_b2lio5ls9phi-3>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-3}.lst-kix_b2lio5ls9phi-6>li:before{content:"" counter(lst-ctn-kix_b2lio5ls9phi-6,decimal) ". "}.lst-kix_b2lio5ls9phi-6>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-6}ol.lst-kix_b2lio5ls9phi-1.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-1 0}ol.lst-kix_b2lio5ls9phi-8.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-8 0}.lst-kix_b2lio5ls9phi-2>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-2}.lst-kix_b2lio5ls9phi-7>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-7}.lst-kix_b2lio5ls9phi-1>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-1}ol.lst-kix_b2lio5ls9phi-5.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-5 0}.lst-kix_b2lio5ls9phi-8>li{counter-increment:lst-ctn-kix_b2lio5ls9phi-8}.lst-kix_193w4tmmekau-8>li:before{content:"-  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ol.lst-kix_b2lio5ls9phi-7.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-7 0}.lst-kix_193w4tmmekau-7>li:before{content:"-  "}.lst-kix_193w4tmmekau-4>li:before{content:"-  "}.lst-kix_193w4tmmekau-6>li:before{content:"-  "}ul.lst-kix_193w4tmmekau-2{list-style-type:none}ul.lst-kix_193w4tmmekau-1{list-style-type:none}ol.lst-kix_b2lio5ls9phi-4.start{counter-reset:lst-ctn-kix_b2lio5ls9phi-4 0}ul.lst-kix_193w4tmmekau-0{list-style-type:none}.lst-kix_193w4tmmekau-1>li:before{content:"-  "}.lst-kix_193w4tmmekau-5>li:before{content:"-  "}ul.lst-kix_193w4tmmekau-6{list-style-type:none}ul.lst-kix_193w4tmmekau-5{list-style-type:none}ul.lst-kix_193w4tmmekau-4{list-style-type:none}.lst-kix_193w4tmmekau-2>li:before{content:"-  "}ul.lst-kix_193w4tmmekau-3{list-style-type:none}ul.lst-kix_193w4tmmekau-8{list-style-type:none}.lst-kix_193w4tmmekau-3>li:before{content:"-  "}ul.lst-kix_193w4tmmekau-7{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c2{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c14{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c3{color:#4a86e8;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Lexend";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify;height:11pt}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Lexend";font-style:normal}.c16{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c5{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c7{font-weight:400;font-size:13pt;font-family:"Lexend"}.c13{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c12{font-weight:400;font-size:11pt;font-family:"Arial"}.c10{color:#000000;text-decoration:none;vertical-align:baseline}.c11{font-size:14pt;font-weight:400;font-family:"Lexend"}.c1{font-size:13pt;font-weight:300;font-family:"Lexend"}.c9{padding:0;margin:0}.c6{font-style:italic}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c13 doc-content"><div><p class="c16"><span class="c11">Mario Vali&ntilde;o Canalejas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c3">03/03/25</span></p><p class="c14"><span class="c5 c12"></span></p></div><p class="c15"><span class="c4">Pr&aacute;ctica con Laboratorio STP en Netkit-JH.</span></p><p class="c0"><span class="c4"></span></p><p class="c8"><span class="c4">Dejo a continuaci&oacute;n la demostraci&oacute;n del funcionamiento de todos los laboratorios STP. Tambi&eacute;n, estar&aacute;n disponibles en la web.</span></p><p class="c0"><span class="c4"></span></p><p class="c8"><span class="c11">En el caso de la elecci&oacute;n de </span><span class="c11 c6">root</span><span class="c4">.</span></p><p class="c0"><span class="c4"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 266.67px;"><img alt="" src="images/image8.png" style="width: 601.70px; height: 266.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 266.67px;"><img alt="" src="images/image7.png" style="width: 601.70px; height: 266.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 222.67px;"><img alt="" src="images/image10.png" style="width: 601.70px; height: 222.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c4"></span></p><p class="c8"><span class="c4">En el caso del cambio de topolog&iacute;a.</span></p><p class="c0"><span class="c4"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 292.00px;"><img alt="" src="images/image5.png" style="width: 601.70px; height: 292.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c4"></span></p><p class="c8"><span class="c4">En el caso del cambio de topolog&iacute;a remota.</span></p><p class="c0"><span class="c4"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 338.67px;"><img alt="" src="images/image11.png" style="width: 601.70px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><ol class="c9 lst-kix_b2lio5ls9phi-0 start" start="1"><li class="c2 li-bullet-0"><span class="c7">Demuestra a partir de capturas de tr&aacute;fico el uso que hacen los </span><span class="c7 c6">bridges</span><span class="c7">&nbsp;de las </span><span class="c7">CBPDU</span><span class="c7">&nbsp;para calcular los costes al </span><span class="c7 c6">root</span><span class="c5 c7">.</span></li></ol><p class="c0"><span class="c5 c7"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 286.67px;"><img alt="" src="images/image3.png" style="width: 601.70px; height: 286.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5 c7"></span></p><p class="c0"><span class="c5 c7"></span></p><ol class="c9 lst-kix_b2lio5ls9phi-0" start="2"><li class="c2 li-bullet-0"><span class="c7">Intenta provocar una tormenta de difusi&oacute;n (o </span><span class="c7 c6">broadcast storm</span><span class="c7">). &iquest;En cu&aacute;ntos y qu&eacute; </span><span class="c7 c6">bridges</span><span class="c5 c7">&nbsp;como m&iacute;nimo tienes que desactivar el STP? &iquest;Por qu&eacute;?</span></li></ol><p class="c0"><span class="c5 c7"></span></p><p class="c8"><span class="c5 c1">C&oacute;mo m&iacute;nimo en los nodos los cu&aacute;les tengan un bucle f&iacute;sico. En el esquema hay 4 bucles f&iacute;sicos, el m&aacute;s notable, entre los nodos 2 y 5.</span></p><p class="c0"><span class="c5 c1"></span></p><p class="c0"><span class="c1 c5"></span></p><ol class="c9 lst-kix_b2lio5ls9phi-0" start="3"><li class="c2 li-bullet-0"><span class="c5 c7">Describe paso a paso y apoy&aacute;ndote en capturas de tr&aacute;fico qu&eacute; sucede cuando:</span></li></ol><p class="c0"><span class="c5 c7"></span></p><ul class="c9 lst-kix_193w4tmmekau-0 start"><li class="c2 li-bullet-0"><span class="c7">Si apagamos </span><span class="c7 c6">bridge6</span></li></ul><p class="c0"><span class="c7 c10 c6"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 486.00px; height: 789.00px;"><img alt="" src="images/image6.png" style="width: 486.00px; height: 789.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5 c7"></span></p><p class="c8"><span class="c1">Seg&uacute;n el comando </span><span class="c1 c6">brctl </span><span class="c1 c6">showstp</span><span class="c1 c6">&nbsp;br0</span><span class="c5 c1">, con STP desconectado, todo se quedar&iacute;a en el nodo, es decir, no tendr&iacute;a conexi&oacute;n con el resto de la malla.</span></p><p class="c0"><span class="c7 c6 c10"></span></p><ul class="c9 lst-kix_193w4tmmekau-0"><li class="c2 li-bullet-0"><span class="c7">Si apagamos </span><span class="c7 c6">bridge1</span></li></ul><p class="c0"><span class="c7 c10 c6"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 338.67px;"><img alt="" src="images/image1.png" style="width: 601.70px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5 c7"></span></p><p class="c8"><span class="c1">En este caso, el </span><span class="c1 c6">root</span><span class="c1">&nbsp;designado de la malla pasar&iacute;a a ser </span><span class="c1 c6">bridge2</span><span class="c1">, dejando a </span><span class="c1 c6">bridge1</span><span class="c1">&nbsp;como en el caso de </span><span class="c1 c6">bridge6</span><span class="c5 c1">&nbsp;anteriormente.</span></p><p class="c0"><span class="c5 c1"></span></p><p class="c0"><span class="c5 c1"></span></p><ol class="c9 lst-kix_b2lio5ls9phi-0" start="4"><li class="c2 li-bullet-0"><span class="c7">Configura la red para que </span><span class="c7 c6">bridge5</span><span class="c7">&nbsp;sea el </span><span class="c7 c6">root</span><span class="c5 c7">. Muestra qu&eacute; puertos y enlaces se bloquean.</span></li></ol><p class="c0"><span class="c5 c7"></span></p><p class="c8"><span class="c1">Para el cambio, uso el comando </span><span class="c1 c6">brctl setbridgeprio br5 0 </span><span class="c5 c1">una vez levantado el laboratorio para provocar dicha interacci&oacute;n.</span></p><p class="c0"><span class="c5 c1"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 446.67px;"><img alt="" src="images/image2.png" style="width: 601.70px; height: 446.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5 c1"></span></p><p class="c0"><span class="c5 c1"></span></p><ol class="c9 lst-kix_b2lio5ls9phi-0" start="5"><li class="c2 li-bullet-0"><span class="c5 c7">Configura los bridges para que sean accesibles remotamente.</span></li></ol><p class="c0"><span class="c5 c7"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 338.67px;"><img alt="" src="images/image4.png" style="width: 601.70px; height: 338.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5 c7"></span></p><p class="c8"><span class="c1">Antes de nada, creo un nuevo nodo </span><span class="c1 c6">pc</span><span class="c1">, al que le crear&eacute; una nueva interfaz y </span><span class="c1">asignar&eacute;</span><span class="c1">&nbsp;una IP. Har&eacute; lo mismo con </span><span class="c1 c6">bridge1</span><span class="c5 c1">&nbsp;y comprobaremos que se escuchan.</span></p><p class="c0"><span class="c5 c1"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 188.00px;"><img alt="" src="images/image9.png" style="width: 601.70px; height: 188.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c5 c1"></span></p><p class="c8"><span class="c1">Hecho esto, crearemos un usuario nuevo en </span><span class="c1 c6">bridge1</span><span class="c1">&nbsp;e iniciaremos ssh en ambas m&aacute;quinas con </span><span class="c10 c1 c6">/etc/init.d/ssh start.</span></p><p class="c0"><span class="c10 c1 c6"></span></p><p class="c8"><span class="c1">S&oacute;lo quedar&aacute; conectarse con las credenciales, en mi caso </span><span class="c1 c6">ssh mario@192.168.1.100</span><span class="c1">&nbsp;y la contrase&ntilde;a.</span></p></body></html>