<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=f-OSG50eM87uHBCimldd8vXw5NcHlEejEPuzMhDCjHE);ol{margin:0;padding:0}table td,table th{padding:0}.c1{color:#000000;font-weight:300;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Lexend";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify;height:11pt}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c6{color:#000000;text-decoration:none;vertical-align:baseline;font-style:normal}.c4{font-size:14pt;font-weight:400;font-family:"Lexend"}.c11{font-weight:400;font-size:11pt;font-family:"Arial"}.c3{font-size:13pt;font-weight:300;font-family:"Lexend"}.c8{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c12{height:11pt}.c5{color:#4a86e8}.c7{font-style:italic}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c8 doc-content"><div><p class="c10"><span class="c4">Mario Vali&ntilde;o Canalejas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c4 c5">21/05/25</span></p><p class="c10 c12"><span class="c6 c11"></span></p></div><p class="c9"><span class="c6 c4">RIP sobre una simulaci&oacute;n en Kathar&aacute;.</span></p><p class="c9 c12"><span class="c6 c4"></span></p><p class="c2"><span class="c3">Tal y como se comenta en la documentaci&oacute;n de RIP, usaremos la imagen </span><span class="c3 c7">Quagga</span><span class="c1">&nbsp;de Kathar&aacute; para comprobar la existencia de Zebra y todos los archivos necesarios para el laboratorio.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 536.00px;"><img alt="" src="images/image15.png" style="width: 601.70px; height: 536.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Tras comprobar que tanto nodos de la red como la propia configuraci&oacute;n del laboratorio est&aacute;n hechos y configurados, levantamos.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Y empezamos comprobando desde </span><span class="c3">r4 que</span><span class="c3">&nbsp;podemos hacer ping a un destino directamente conectado, con el comando </span><span class="c3 c7">ping 100.1.0.13</span><span class="c1">.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 269.33px;"><img alt="" src="images/image6.png" style="width: 601.70px; height: 269.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">En cambio, si hacemos ping a un destino remoto, este deber&iacute;a fallar. Ejecutamos el comando </span><span class="c3 c7">ping 100.1.2.1</span><span class="c1">.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 269.33px;"><img alt="" src="images/image17.png" style="width: 601.70px; height: 269.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">r4 no tiene acceso a la red, ya que no tiene ninguna ruta que apunte a ella. Con </span><span class="c3 c7">route</span><span class="c1">&nbsp;verificamos la tabla de enrutamiento del mismo.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 252.00px;"><img alt="" src="images/image11.png" style="width: 601.70px; height: 252.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Es ahora cuando activaremos Zebra, usando el comando </span><span class="c3 c7">zebra start</span><span class="c1">&nbsp;en todos los routers.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 528.00px; height: 151.00px;"><img alt="" src="images/image2.png" style="width: 528.00px; height: 151.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 528.00px; height: 151.00px;"><img alt="" src="images/image1.png" style="width: 528.00px; height: 151.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 528.00px; height: 151.00px;"><img alt="" src="images/image21.png" style="width: 528.00px; height: 151.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 528.00px; height: 151.00px;"><img alt="" src="images/image12.png" style="width: 528.00px; height: 151.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 528.00px; height: 151.00px;"><img alt="" src="images/image3.png" style="width: 528.00px; height: 151.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Una vez hecho esto con todos los routers, probamos el ping anterior.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 578.00px; height: 290.00px;"><img alt="" src="images/image14.png" style="width: 578.00px; height: 290.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">As&iacute;, todos los destinos ya ser&aacute;n visibles entre s&iacute;. Comprobamos de nuevo la tabla de rutas.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 277.33px;"><img alt="" src="images/image8.png" style="width: 601.70px; height: 277.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Con el comando</span><span class="c3 c7">&nbsp;tcpdump -i eth2 -v -n -s 1518</span><span class="c3">&nbsp;podemos capturar los paquetes </span><span class="c3 c7">ripv2</span><span class="c1">&nbsp;y comprobarlos.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 317.33px;"><img alt="" src="images/image5.png" style="width: 601.70px; height: 317.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Ahora probamos a hacer un </span><span class="c3 c7">traceroute</span><span class="c3">&nbsp;a otro router, con el comando </span><span class="c3 c7">traceroute 100.1.2.1</span><span class="c1">.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 597.00px; height: 162.00px;"><img alt="" src="images/image13.png" style="width: 597.00px; height: 162.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Usando el comando </span><span class="c3 c7">telnet localhost zebra</span><span class="c3">&nbsp;nos conectaremos con el </span><span class="c3 c7">daemon</span><span class="c1">&nbsp;principal de Zebra. As&iacute; demostramos que somos usuarios no privilegiados.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 529.00px; height: 491.00px;"><img alt="" src="images/image18.png" style="width: 529.00px; height: 491.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Si adem&aacute;s pulsamos la tecla </span><span class="c3 c7">?</span><span class="c3">, nos aparecer&aacute; una lista con las funciones principales de Zebra. Usando </span><span class="c3 c7">list</span><span class="c1">, la lista ser&aacute; mayor, mostrando el potencial real de Zebra.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 674.67px;"><img alt="" src="images/image20.png" style="width: 601.70px; height: 674.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Podemos revisar sus interfaces, con el comando </span><span class="c3 c7">show interface</span><span class="c1">&nbsp;seguido de la interfaz.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 537.00px; height: 490.00px;"><img alt="" src="images/image9.png" style="width: 537.00px; height: 490.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Y adem&aacute;s, podemos ver su tabla de enrutamiento, usado el comando </span><span class="c3 c7">show ip route</span><span class="c1">, todo esto dentro de Zebra.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 593.33px;"><img alt="" src="images/image10.png" style="width: 601.70px; height: 593.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Ahora, podemos cambiar la configuraci&oacute;n de Zebra. Para ello activaremos el modo privilegiado con el comando </span><span class="c3 c7">enable</span><span class="c3">, seguido de la contrase&ntilde;a </span><span class="c3 c7">zebra</span><span class="c3">. Y usaremos </span><span class="c3 c7">configure terminal</span><span class="c1">&nbsp;para editar dicha configuraci&oacute;n.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Dentro podremos cambiar la contrase&ntilde;a usando </span><span class="c3 c7">password</span><span class="c3">&nbsp;seguido de la misma. La activaremos con </span><span class="c3 c7">enable password</span><span class="c3">&nbsp;y saldremos del modo edici&oacute;n. Por &uacute;ltimo, usaremos </span><span class="c3 c7">write file</span><span class="c3">&nbsp;para guardar la edici&oacute;n y saldremos del modo privilegiado con </span><span class="c3 c7">disable</span><span class="c1">. </span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Si salimos por completo </span><span class="c3">de Zebra</span><span class="c1">, la pr&oacute;xima vez que queramos entrar, deberemos poner la contrase&ntilde;a nueva.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 753.33px;"><img alt="" src="images/image19.png" style="width: 601.70px; height: 753.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Ahora revisamos la tabla de rutas de RIP, con el comando </span><span class="c3 c7">telnet localhost ripd</span><span class="c3">&nbsp;para la conexi&oacute;n, y </span><span class="c3 c7">show ip rip</span><span class="c1">&nbsp;para el visionado.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 552.00px;"><img alt="" src="images/image16.png" style="width: 601.70px; height: 552.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c1">Vamos ahora a a&ntilde;adir una ruta est&aacute;tica de r5 a la red de 100.1.0.0 para permitir hacer ping al nodo 100.1.2.1. Por defecto, desconoce la forma de llegar y nos devuelve un error.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Con el comando </span><span class="c3 c7">route add -net 100.1.0.0/16 gw 100.2.0.1</span><span class="c1">&nbsp;a&ntilde;adimos dicha ruta y comprobamos.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 571.00px; height: 306.00px;"><img alt="" src="images/image4.png" style="width: 571.00px; height: 306.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span class="c3">Comprobamos tambi&eacute;n con el comando </span><span class="c3 c7">traceroute</span><span class="c1">.</span></p><p class="c0"><span class="c1"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 599.00px; height: 182.00px;"><img alt="" src="images/image7.png" style="width: 599.00px; height: 182.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p></body></html>